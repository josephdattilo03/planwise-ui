@layer theme, base, mui, components, utilities;
@import "tailwindcss";

/* Tailwind v4: make `dark:` respond to the `.dark` class (we toggle it on <html>) */
@custom-variant dark (&:where(.dark, .dark *));

:root {
  /* Core: page & text (foreground = primary text) */
  --background: #ffffff;
  --foreground: #222422;
  --dark-green-1: #222422;
  --dark-green-2: #435447;

  /* Palette: greens */
  --green-1: #386641;
  --green-2: #6a994e;
  --green-3: #a7c957;
  --green-4: #d3e3a4;

  /* Palette: accents */
  --red: #bc4749;
  --beige: #f2e8cf;
  --off-white: #fffcf2;
  --pink: #f2cfd3;
  --blue: #cfe0f2;
  --cream: #ffdcb6;
  --sky-blue: #76a5ea;
  --lilac: #e4ccfd;
  --orange: #ffa500;

  /* Pastels (notes/boards; coral/rose unused, removed) */
  --pastel-red: #ffb3b3;
  --pastel-orange: #ffcba4;
  --pastel-yellow: #ffe5a0;
  --pastel-green: #c1e1c1;
  --pastel-cyan: #a8d8ea;
  --pastel-blue: #a0c4ff;
  --pastel-indigo: #bdb2ff;
  --pastel-violet: #e4b8d5;

  /* Radius (single scale) */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;

  /* Shared border (cards, tasks, tree, inputs default) */
  --border: #e5e7eb;

  /* Task status/tag tokens */
  --task-status-to-do-button: #dbeafe;
  --task-status-to-do-stroke: #bfd7fe;
  --task-status-to-do-text: #1e40af;
  --task-status-in-prog-button: #fef9c3;
  --task-status-in-prog-stroke: #ffe7a3;
  --task-status-in-prog-text: #854d0e;
  --task-status-done-button: #dcfce7;
  --task-status-done-stroke: #b8ebca;
  --task-status-done-text: #166534;
  --task-status-pending-button: #fce2dc;
  --task-status-pending-stroke: #ebc7b8;
  --task-status-pending-text: #652a16;
  --task-due-button: #ffedd5;
  --task-due-stroke: #fed7aa;
  --task-date-almost-due-text: #9a3412;
  --task-date-due-text: #6b7280;
  --task-priority-button: #fee2e2;
  --task-priority-stroke: #fecaca;
  --task-priority-text: #dc2626;
  --task-inactive-button: #cacdc2;
  --task-inactive-stroke: #ecebe1;
  --task-tag-purple-text: #6b21a8;
  --task-tag-purple-stroke: #e9d5ff;
  --task-tag-purple-button: #f3e8ff;
  --task-tag-blue-text: #20a6bb;
  --task-tag-blue-stroke: #9bf2ff;
  --task-tag-blue-button: #d7f8fd;
  --task-tag-lilac-text: #95589d;
  --task-tag-lilac-button: #efe6f1;
  --task-tag-lilac-stroke: #dfcae1;

  /* Surfaces: one token for menu, card, input backgrounds */
  --surface-bg: #ffffff;
  --sidebar-bg: var(--off-white);
  --sidebar-border: var(--green-4);
  --menu-bg: var(--surface-bg);
  --menu-item-hover: var(--tree-hover);
  --input-bg: var(--surface-bg);
  --input-border: var(--green-2);
  --input-text: var(--foreground);
  --card-bg: var(--surface-bg);
  --card-border: var(--border);
  --tree-line: var(--border);
  --tree-hover: #f3f4f6;

  /* Home widgets */
  --home-quick-bg: #f7f9f3;
  --home-tasks-bg: #fdf5e6;
  --home-calendar-bg: #fdf5e6;
  --home-notes-bg: #f7f9f3;
  /* --home-quick-bg: var(--surface-bg);
  --home-tasks-bg: var(--surface-bg);
  --home-calendar-bg: var(--surface-bg);
  --home-notes-bg: var(--surface-bg); */
  --home-alert-bg-1: #ffe1c4;
  --home-alert-bg-2: #ffd0bf;
  --home-alert-border: rgba(122, 58, 0, 0.15);
  --home-alert-title: #7a3a00;
  --home-alert-text: #6b3a17;
  --home-alert-button: #e65c2c;
  --home-alert-button-hover: #d24f21;

  /* Type scale (one set for notes + page text) */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-base: 16px;
  --font-size-lg: 20px;
  --font-size-xl: 30px;
  --font-size-2xl: 32px;
  --font-size-3xl: 36px;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Semantic type (reference scale) */
  --note-body-font-size: var(--font-size-base);
  --note-body-font-weight: var(--font-weight-normal);
  --note-body-letter-spacing: -0.5px;
  --note-date-font-size: var(--font-size-base);
  --note-date-font-weight: var(--font-weight-bold);
  --note-date-letter-spacing: 0.5px;
  --note-link-font-size: var(--font-size-base);
  --note-link-font-weight: var(--font-weight-light);
  --note-link-letter-spacing: 0.5px;
  --note-title-font-size: var(--font-size-3xl);
  --note-title-font-weight: var(--font-weight-bold);
  --note-title-letter-spacing: -0.75px;

  --text-label-font-size: var(--font-size-xs);
  --text-label-font-weight: var(--font-weight-normal);
  --text-body-font-size: var(--font-size-base);
  --text-body-font-weight: var(--font-weight-medium);
  --text-button-font-size: var(--font-size-base);
  --text-button-font-weight: var(--font-weight-semibold);
  --text-chip-info-font-size: var(--font-size-xs);
  --text-chip-info-font-weight: var(--font-weight-normal);
  --text-page-title-font-size: var(--font-size-2xl);
  --text-page-title-font-weight: var(--font-weight-bold);
  --text-section-header-font-size: var(--font-size-xl);
  --text-section-header-font-weight: var(--font-weight-semibold);
  --text-section-header-letter-spacing: -0.6px;
  --text-section-sub-header-font-size: var(--font-size-lg);
  --text-section-sub-header-font-weight: var(--font-weight-semibold);
  --text-section-sub-header-letter-spacing: -0.4px;
  --text-small-header-font-size: var(--font-size-sm);
  --text-small-header-font-weight: var(--font-weight-semibold);
}

@theme inline {
  --font-sans: var(--font-plex-sans);
  --font-mono: var(--font-plex-mono);
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-dark-green-1: var(--dark-green-1);
  --color-dark-green-2: var(--dark-green-2);

  --color-green-1: var(--green-1);
  --color-green-2: var(--green-2);
  --color-green-3: var(--green-3);
  --color-green-4: var(--green-4);
  --color-red: var(--red);
  --color-beige: var(--beige);
  --color-off-white: var(--off-white);
  --color-pink: var(--pink);
  --color-blue: var(--blue);
  --color-cream: var(--cream);
  --color-sky-blue: var(--sky-blue);
  --color-lilac: var(--lilac);
  --color-orange: var(--orange);

  --color-pastel-red: var(--pastel-red);
  --color-pastel-orange: var(--pastel-orange);
  --color-pastel-yellow: var(--pastel-yellow);
  --color-pastel-green: var(--pastel-green);
  --color-pastel-cyan: var(--pastel-cyan);
  --color-pastel-blue: var(--pastel-blue);
  --color-pastel-indigo: var(--pastel-indigo);
  --color-pastel-violet: var(--pastel-violet);

  --color-task-status-to-do-button: var(--task-status-to-do-button);
  --color-task-status-to-do-stroke: var(--task-status-to-do-stroke);
  --color-task-status-to-do-text: var(--task-status-to-do-text);
  --color-task-status-in-prog-button: var(--task-status-in-prog-button);
  --color-task-status-in-prog-stroke: var(--task-status-in-prog-stroke);
  --color-task-status-in-prog-text: var(--task-status-in-prog-text);
  --color-task-status-done-button: var(--task-status-done-button);
  --color-task-status-done-stroke: var(--task-status-done-stroke);
  --color-task-status-done-text: var(--task-status-done-text);
  --color-task-status-pending-button: var(--task-status-pending-button);
  --color-task-status-pending-stroke: var(--task-status-pending-stroke);
  --color-task-status-pending-text: var(--task-status-pending-text);
  --color-task-due-button: var(--task-due-button);
  --color-task-due-stroke: var(--task-due-stroke);
  --color-task-date-almost-due-text: var(--task-date-almost-due-text);
  --color-task-date-due-text: var(--task-date-due-text);
  --color-task-priority-button: var(--task-priority-button);
  --color-task-priority-stroke: var(--task-priority-stroke);
  --color-task-priority-text: var(--task-priority-text);
  --color-task-inactive-button: var(--task-inactive-button);
  --color-task-inactive-stroke: var(--task-inactive-stroke);
  --color-task-tag-purple-text: var(--task-tag-purple-text);
  --color-task-tag-purple-stroke: var(--task-tag-purple-stroke);
  --color-task-tag-purple-button: var(--task-tag-purple-button);
  --color-task-tag-blue-text: var(--task-tag-blue-text);
  --color-task-tag-blue-stroke: var(--task-tag-blue-stroke);
  --color-task-tag-blue-button: var(--task-tag-blue-button);
  --color-task-tag-lilac-text: var(--task-tag-lilac-text);
  --color-task-tag-lilac-button: var(--task-tag-lilac-button);
  --color-task-tag-lilac-stroke: var(--task-tag-lilac-stroke);

  --color-sidebar-bg: var(--sidebar-bg);
  --color-sidebar-border: var(--sidebar-border);
  --color-menu-bg: var(--menu-bg);
  --color-menu-item-hover: var(--menu-item-hover);
  --color-input-bg: var(--input-bg);
  --color-input-border: var(--input-border);
  --color-input-text: var(--input-text);
  --color-card-bg: var(--card-bg);
  --color-card-border: var(--card-border);
  --color-border: var(--border);
  --color-tree-line: var(--tree-line);
  --color-tree-hover: var(--tree-hover);
  --color-home-quick-bg: var(--home-quick-bg);
  --color-home-tasks-bg: var(--home-tasks-bg);
  --color-home-calendar-bg: var(--home-calendar-bg);
  --color-home-notes-bg: var(--home-notes-bg);
  --color-home-alert-bg-1: var(--home-alert-bg-1);
  --color-home-alert-bg-2: var(--home-alert-bg-2);
  --color-home-alert-border: var(--home-alert-border);
  --color-home-alert-title: var(--home-alert-title);
  --color-home-alert-text: var(--home-alert-text);
  --color-home-alert-button: var(--home-alert-button);
  --color-home-alert-button-hover: var(--home-alert-button-hover);
}

@layer utilities {
  .note-body {
    font-family: var(--font-plex-mono);
    font-size: var(--note-body-font-size);
    font-weight: var(--note-body-font-weight);
    letter-spacing: var(--note-body-letter-spacing);
  }

  .note-date {
    font-family: var(--font-plex-mono);
    font-size: var(--note-date-font-size);
    font-weight: var(--note-date-font-weight);
    letter-spacing: var(--note-date-letter-spacing);
  }

  .note-link {
    font-family: var(--font-plex-mono);
    font-size: var(--note-link-font-size);
    font-weight: var(--note-link-font-weight);
    letter-spacing: var(--note-link-letter-spacing);
  }

  .note-title {
    font-family: var(--font-plex-mono);
    font-size: var(--note-title-font-size);
    font-weight: var(--note-title-font-weight);
    letter-spacing: var(--note-title-letter-spacing);
  }

  .text-body {
    font-size: var(--text-body-font-size);
    font-weight: var(--text-body-font-weight);
  }

  .text-button {
    font-size: var(--text-button-font-size);
    font-weight: var(--text-button-font-weight);
  }

  .text-chip-info {
    font-size: var(--text-chip-info-font-size);
    font-weight: var(--text-chip-info-font-weight);
  }

  .text-page-title {
    font-size: var(--text-page-title-font-size);
    font-weight: var(--text-page-title-font-weight);
  }

  .text-section-header {
    font-size: var(--text-section-header-font-size);
    font-weight: var(--text-section-header-font-weight);
    letter-spacing: var(--text-section-header-letter-spacing);
  }

  .text-section-sub-header {
    font-size: var(--text-section-sub-header-font-size);
    font-weight: var(--text-section-sub-header-font-weight);
    letter-spacing: var(--text-section-sub-header-letter-spacing);
  }

  .text-small-header {
    font-size: var(--text-small-header-font-size);
    font-weight: var(--text-small-header-font-weight);
  }

  .text-label {
    font-size: var(--text-label-font-size);
    font-weight: var(--text-label-font-weight);
  }

  @keyframes content-fade-in {
    from {
      opacity: 0;
      transform: translateY(6px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .content-fade-in {
    animation: content-fade-in 0.3s ease-out forwards;
  }
}

.scroll-shadows {
  z-index: 999;
  background:
    linear-gradient(var(--color-sidebar-bg) 30%, rgba(255, 255, 255, 0)) center top,
    linear-gradient(rgba(255, 255, 255, 0), var(--color-sidebar-bg) 70%) center bottom,
    radial-gradient(farthest-side at 50% 0, rgb(0, 0, 0, 0.2), rgba(0, 0, 0, 0)) center top,
    radial-gradient(farthest-side at 50% 100%,
      rgba(0, 0, 0, 0.2),
      rgba(0, 0, 0, 0)) center bottom;
  background-repeat: no-repeat;
  background-size:
    100% 40px,
    100% 40px,
    100% 14px,
    100% 14px;
  background-attachment: local, local, scroll, scroll;
}

.dark .scroll-shadows {
  z-index: 999;
  background:
    linear-gradient(var(--color-sidebar-bg) 30%, rgba(26, 26, 26, 0)) center top,
    linear-gradient(rgba(26, 26, 26, 0), var(--color-sidebar-bg) 70%) center bottom,
    radial-gradient(farthest-side at 50% 0, rgb(0, 0, 0, 0.4), rgba(0, 0, 0, 0)) center top,
    radial-gradient(farthest-side at 50% 100%,
      rgba(0, 0, 0, 0.4),
      rgba(0, 0, 0, 0)) center bottom;
  background-repeat: no-repeat;
  background-size:
    100% 40px,
    100% 40px,
    100% 14px,
    100% 14px;
  background-attachment: local, local, scroll, scroll;
}

.dark {
  /* Core: same vars as :root, different values */
  --background: #1a1d1f;
  --foreground: #e8eae8;
  --dark-green-1: #e8eae8;
  --dark-green-2: #b8c5ba;

  --green-1: #30593f;
  --green-2: #5a8a6a;
  --green-3: #7bb38e;
  --green-4: #a8c8b3;
  --red: #e85a5d;
  --beige: #40382e;
  --off-white: #1f2224;
  --pink: #3d2528;
  --blue: #252d35;
  --cream: #3d3225;
  --sky-blue: #6a8ac8;
  --lilac: #5a4a6a;
  --orange: #d4943a;

  --pastel-red: #4a2d2d;
  --pastel-orange: #4a3a2d;
  --pastel-yellow: #4a453a;
  --pastel-green: #2d3a2d;
  --pastel-cyan: #2d3a4a;
  --pastel-blue: #2d3a5a;
  --pastel-indigo: #3a2d5a;
  --pastel-violet: #4a2d4a;

  --border: #3a3d3f;

  --task-status-to-do-button: #1e2a3a;
  --task-status-to-do-stroke: #3a5a7a;
  --task-status-to-do-text: #7aa5ff;
  --task-status-in-prog-button: #3a3520;
  --task-status-in-prog-stroke: #5a6a3a;
  --task-status-in-prog-text: #ffd85a;
  --task-status-done-button: #1e3a2a;
  --task-status-done-stroke: #3a6a4a;
  --task-status-done-text: #7aff9a;
  --task-status-pending-button: #3a2520;
  --task-status-pending-stroke: #5a3a2a;
  --task-status-pending-text: #ff9a5a;
  --task-due-button: #3a2d20;
  --task-due-stroke: #5a4a2a;
  --task-date-almost-due-text: #ff9a5a;
  --task-date-due-text: #b0b0b0;
  --task-priority-button: #3a2020;
  --task-priority-stroke: #5a2a2a;
  --task-priority-text: #ff6a6a;
  --task-inactive-button: #2a2d2f;
  --task-inactive-stroke: #3a3d3f;
  --task-tag-purple-text: #c88aff;
  --task-tag-purple-stroke: #5a3a7a;
  --task-tag-purple-button: #2a1a3a;
  --task-tag-blue-text: #6ac8ff;
  --task-tag-blue-stroke: #2a5a7a;
  --task-tag-blue-button: #1a2a3a;
  --task-tag-lilac-text: #d88aff;
  --task-tag-lilac-button: #2a1a3a;
  --task-tag-lilac-stroke: #5a3a6a;

  /* Surfaces: only override the base tokens */
  --surface-bg: #252825;
  --sidebar-border: #2d3032;
  --input-border: var(--border);
  --tree-hover: #2d3032;

  /* Home: widgets use surface in dark */
  --home-quick-bg: var(--surface-bg);
  --home-tasks-bg: var(--surface-bg);
  --home-calendar-bg: var(--surface-bg);
  --home-notes-bg: var(--surface-bg);
  --home-alert-bg-1: #3a2a1f;
  --home-alert-bg-2: #4a3525;
  --home-alert-border: rgba(255, 140, 80, 0.2);
  --home-alert-title: #ff9966;
  --home-alert-text: #e8b899;
  --home-alert-button: #ff6633;
  --home-alert-button-hover: #ff7744;
}

body {
  font-family: var(--font-sans);
  background: var(--background);
  color: var(--foreground);
}